<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Performance notes and required packages · AARMBEM.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">AARMBEM.jl</span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><span class="tocitem">Background</span><ul><li><a class="tocitem" href="../theory/historicalbackground.html">History</a></li><li><a class="tocitem" href="../theory/theoreticalbackground.html">Theory</a></li><li><a class="tocitem" href="../theory/acronyms.html">Common acronyms</a></li></ul></li><li><span class="tocitem">Implementation Notes</span><ul><li><a class="tocitem" href="units.html">Units</a></li><li><a class="tocitem" href="matrixstorage.html">Matrix storage conventions</a></li><li><a class="tocitem" href="datastructuresandtransformations.html">Data structures and rigid transformations</a></li><li class="is-active"><a class="tocitem" href="performancenotes.html">Performance notes and required packages</a></li><li><a class="tocitem" href="outputquantities.html">Output quantities</a></li><li><a class="tocitem" href="ewaldwarning.html">Warning: Ewald summation</a></li></ul></li><li><span class="tocitem">Usage</span><ul><li><a class="tocitem" href="../usage/configfiles.html">Configuration files</a></li><li><a class="tocitem" href="../usage/transfiles.html">Transformation files</a></li><li><a class="tocitem" href="../usage/periodicfiles.html">Bloch periodicity files</a></li><li><a class="tocitem" href="../usage/freqkfiles.html">Frequency and Bloch wavevector files</a></li><li><a class="tocitem" href="../usage/CMDARGS.html">Command-line arguments</a></li><li><a class="tocitem" href="../usage/outfiles.html">Output file structure</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/guaninecytosinePEC.html">Guanine + cytosine + PEC plane</a></li><li><a class="tocitem" href="../examples/2grapheneVAC.html">Two identical parallel graphene sheets (vacuum)</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../api/CMDARGS.html">Command-line arguments</a></li><li><a class="tocitem" href="../api/expintegral.html">Exponential integral function</a></li><li><a class="tocitem" href="../api/genericmatrixvectorutils.html">Generic matrix and vector utilities</a></li><li><a class="tocitem" href="../api/greensfunctions.html">Maxwell Green&#39;s functions</a></li><li><a class="tocitem" href="../api/periodicdata.html">Data structures and functions for Bloch periodicity</a></li><li><a class="tocitem" href="../api/moldata.html">Molecular data structures and methods</a></li><li><a class="tocitem" href="../api/transdata.html">Transformation data structures and methods</a></li><li><a class="tocitem" href="../api/vdWRHT.html">vdW interactions and thermal radiation functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Implementation Notes</a></li><li class="is-active"><a href="performancenotes.html">Performance notes and required packages</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="performancenotes.html">Performance notes and required packages</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/psv2/AARMBEM.jl/blob/master/doc/src/implementation/performancenotes.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Performance-notes-and-required-packages-1"><a class="docs-heading-anchor" href="#Performance-notes-and-required-packages-1">Performance notes and required packages</a><a class="docs-heading-anchor-permalink" href="#Performance-notes-and-required-packages-1" title="Permalink"></a></h1><p>AARMBEM.jl has been written in Julia. It has been tested in Julia 1.0. It requires the modules <code>LinearAlgebra</code>, <code>DelimitedFiles</code>, <code>SharedArrays</code>, <code>SpecialFunctions</code>, <code>Distributed</code>, and <code>Printf</code>.</p><p>AARMBEM.jl has been written with parallelism in mind. In particular, the functions for assembling the Green&#39;s function matrices make use of parallel for-loops. However, while the programs in AARMBEM.jl may be invoked using parallel processing via a command like <code>julia -p N</code> (followed by the command as well as any arguments) for a number of processors <code>N</code> larger than 1, testing thus far has showed this to be somewhat unreliable on certain setups. Therefore, it is recommended that <code>N</code> be set to 1, and that parallelism be done instead over frequencies (and Bloch wavevectors, if appropriate), as that process can be done in an embarrassingly parallel manner (i.e. with each set of frequencies (and Bloch wavevectors, if appropriate) constituting a single job). This is particularly suitable for use in a script, especially one that interfaces with a job scheduler like SLURM.</p><p>Even with embarrassing parallelism (using one frequency, and one Bloch wavevector, if appropriate, per job, and one processor per job), AARMBEM.jl has been seen to occasionally fail to produce output in certain random instances. These generally have not been predictable, so users who wish to run a calculation over a large number of frequencies (and Bloch wavevectors, if appropriate) for a large number of geometric configurations of a given set of molecular and macroscopic bodies may need to rerun calculations for certain combinations of frequency (and Bloch wavevector, if appropriate) and geometric configuration after the fact.</p><p>As discussed in other pages, the code for molecular bodies of infinite extent obeying Bloch periodic boundary conditions is sometimes less numerically stable. As an example, it has been observed that calculations of the vdW interaction free energy integrand of a graphene sheet at a distance <span>$z$</span> above and parallel to a PEC plane (at <span>$z = 0$</span>) for a few combinations <span>$(\mathrm{i}\xi, \vec{k}, z)$</span> (far fewer than the total number sampled) has the wrong sign or magnitude. Such occurrences are rare and isolated incidents and can be mitigated through interpolation as needed, though there may be other systems where none of the data is reliable or trustworthy; users must use their best judgment to determine how to proceed.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="datastructuresandtransformations.html">« Data structures and rigid transformations</a><a class="docs-footer-nextpage" href="outputquantities.html">Output quantities »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 27 May 2020 15:53">Wednesday 27 May 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
